<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Section 13: What can go wrong</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="xaringan-themer.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# Section 13: What can go wrong
## <br/>STOR 155.02, Spring ’21
### updated 2021-04-27

---

class: left, middle






## What you will learn

- is in the title

## Resources

- links in slides

---
background-image: url(gudetama.png)
---
class: inverse, left, middle

### Two lectures remain

- April 27, May 4

### Last data/webassign homeworks are this week

### May 6 class period is **extended OH for final**

### Final project due May 11, 3p.m. **sharp**

---
class: inverse, left, middle

### Time to review: Common mistakes **keep costing you points**

#### **Q5, hw8:** Compare the sample s.d. of the mean and the s.d. derived from the CLT formula. Explain **why** your answers do or not not make sense together using concepts from class.

.pull-left[
#### **:-(**
"It makes sense that they are different because the CLT uses the sample standard deviation in the calculation."

]
.pull-left[
#### **:-)** thanks to Kaylee Tackett
"My answer for Q4 makes sense because the CLT [says] a sampling distribution of the sampling means approaches a normal distribution as the sample size gets larger, irregardless of the shape of the distribution. ... Our computations with the CLT is only valid on a size of data that is substantial enough to reflect our actual population."
]


---
class: left, top

.pull-left[
#### We've done a bunch of examples showing the kinds of questions you can answer with hypothesis tests.

#### But those **idealized situations don't always work out so well.**

#### There are many cases in published research where conclusions drawn from hypothesis tests are nearly worthless.
]

.pull-right[
### Goal of this lecture

- get a feel for how to spot problems with hypothesis testing

- explore assumptions a bit more

#### Some examples give broader problems than just for hypothesis testing, such as bad data
]

---
class: inverse, center, middle

# 'p-hacking'

---
class: left, top

### [538 p-hacking demo](https://projects.fivethirtyeight.com/p-hacking/)

#### **Question:** Is the the U.S. economy better when Democrats are in office, or worse?

#### Data

- who's in office: President, Senate, House, governors
- economy: GDP, inflation, employment, stock prices

.pull-left[
#### Multiple **difference of means tests** you could do

|group (Dem v Rep) | outcome|
|---|---|
| President | GDP |
| Senate | GDP |
| President | employment |

etc.
]
.pull-right[
#### **p-hacking**

- finding a group and outcome combo
- so that the difference of means test is statistically significant
- at some 'standard' level

easy when the **question is so poorly defined**
]


---
class: left, top

### This is actually a problem...

#### ["Women are more likely to wear red or pink when at peak fertility"](https://slate.com/technology/2013/07/statistics-and-psychology-multiple-comparisons-give-spurious-results.html)

#### ["Men with larger arms of higher socio-economic status more likely to oppose wealth distribution policies"](https://www.americanscientist.org/article/the-statistical-crisis-in-science)

#### ["Kids are more likely to eat fruit if it has Sesame Street stickers on it"](https://www.buzzfeed.com/stephaniemlee/brian-wansink-cornell-p-hacking)

#### ["People who perform 'power poses' subsequently have increased testosterone and cortisol levels"](https://slate.com/technology/2016/01/amy-cuddys-power-pose-research-is-the-latest-example-of-scientific-overreach.html)

[(original 'power pose' research paper here)](https://www0.gsb.columbia.edu/mygsb/faculty/research/pubfiles/4679/power.poses_.PS_.2010.pdf)

```
    _________________________
    &lt; y u click bait tho? &gt;
    -------------------------
        \   ^__^
         \  (oo)\_______
            (__)\       )\/\
                ||----w |
                ||     ||
```



---
class: left, top
background-image: url(power_poses.jpg)
background-size: contain

---
class: left, top

### Let's p-hack the affairs data





#### this is what you got in homework
`\(p\)` value for two-sided hypothesis test of some affairs in `young` (age &lt;=32) vs not young groups.

```
## [1] 0.3713905
```

#### **but we demand significance!**

Looking for significant difference of `some_affairs` between people with and without children **within each `young`** group



|young |children |      mhat|      shat|   n|
|:-----|:--------|---------:|---------:|---:|
|FALSE |no       | 0.2500000| 0.4472136|  16|
|FALSE |yes      | 0.2731959| 0.4467535| 194|
|TRUE  |no       | 0.1483871| 0.3566356| 155|
|TRUE  |yes      | 0.2966102| 0.4577340| 236|

---
class: center, middle


|young |         p|
|:-----|---------:|
|FALSE | 0.8419298|
|TRUE  | 0.0003356|

![](https://media.giphy.com/media/3ohuPpJ3YIQmcOVyJW/giphy.gif)

---
class: left, top
background-image: url(power_poses.jpg)
background-size: contain

---
class: left, top

### Why is this a problem?

#### You've gone in search of a conclusion your data will support

#### rather than asking whether your data support a pre-determined conclusion

&gt;&gt; There are many roads to statistical significance; if data are gathered with no preconceptions at all, **statistical significance can obviously be obtained even from pure noise** by the simple means of repeatedly performing comparisons ...

&gt;&gt; Andrew Gelman, Eric Loken, [in the American Scientist](https://www.americanscientist.org/article/the-statistical-crisis-in-science)

#### Conclusions determined by p-hacking probably are not replicatable in a different study

#### which was part of what [exposed power poses as fraud](https://en.wikipedia.org/wiki/Power_posing#Replication_failure)

#### and exposed [Brian Wansink's masterclass in p-hacking](https://www.buzzfeednews.com/article/stephaniemlee/brian-wansink-cornell-p-hacking)

---
class: inverse, center, middle

# Garbage data

---
class: left, top

### Bad data `\(\longrightarrow\)` bad conclusions

#### article: "Automated inference on criminality using face images"

#### data
Authors use ~1,100 'non-criminal' face pictures scraped from the internet and ~700 mug shots of convicted criminals.

#### claim
Authors "empirically establish the validity of automated face-induced inference on criminality … discriminating structural features for predicting criminality have been found by machine learning." The algorithm found that **criminals have shorter distances between inner corners of the eyes** (d), smaller angles between nose and mouth corner, and more upper-lip curvature.

#### problem: wouldn't you **frown in your mugshot**, and **smile in your office headshot**?

[Source: Calling bullshit](http://callingbullshit.org/case_studies/case_study_criminal_machine_learning.html)

---
class: inverse, center, middle

# Moral: Don't be bad

At least try not to be bad. It's usually not so hard.

---
class: center, middle

## PollEv.com/brendanbrown849

## poll closes at `_________`


---
class: center, top
background-image: url(gudetama2.png)
background-size: contain

???
image credit: deviantart.com/atsushika28
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "solarized-light",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
